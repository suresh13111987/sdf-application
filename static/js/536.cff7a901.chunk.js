"use strict";(self.webpackChunkholcimui=self.webpackChunkholcimui||[]).push([[536],{51536:function(s,e,n){n.r(e),n.d(e,{Login:function(){return j}});var a=n(29439),t=(n(53297),n(67283)),o=n(72791),r=n(33168),i=n(95048),c=n(60389),l=n(16871),d=n(97948),m=n.n(d),u=n(89743),p=n(2677),g=n(43360),h=n(9806),f=n(11632),x=n(9085),w=n(80184),j=function(){var s=(0,o.useState)(),e=(0,a.Z)(s,2),n=e[0],d=e[1],j=(0,o.useState)(),v=(0,a.Z)(j,2),N=v[0],Z=v[1],y=(0,o.useState)(!1),C=(0,a.Z)(y,2),b=C[0],A=C[1],E=(0,o.useState)(""),S=(0,a.Z)(E,2),k=S[0],I=S[1],L=(0,o.useState)(""),G=(0,a.Z)(L,2),_=G[0],D=G[1],P=(0,r.$)(),T=P.t,U=P.i18n,F=(0,o.useState)(),O=(0,a.Z)(F,2),R=O[0],B=O[1],H=(0,i.I0)(),z=(0,i.v9)((function(s){return{loginResponse:s.loginDataReducer.loginDataresponse.data,changePasswordres:s.loginDataReducer.loginfetchStateresponse.data}}),i.wU),$=z.loginResponse,M=z.changePasswordres;console.log("-----\x3elogin Response",$);var V=(0,l.s0)();(0,o.useEffect)((function(){sessionStorage.clear()}),[]),(0,o.useEffect)((function(){void 0!==$&&!0===$.status?void 0!==$.passwordUpdated&&!1===$.passwordUpdated?A(!0):void 0!==$.passwordUpdated&&!0===$.passwordUpdated&&1==$.status&&(V("/Collaborativetool"),window.sessionStorage.setItem("language",R||"en"),window.sessionStorage.setItem("username",n),window.sessionStorage.setItem("accesstoken",$.token)):void 0!==$&&!1===$.status&&x.Am.error($.message)}),[$]),(0,o.useEffect)((function(){void 0!==M&&(void 0===M.status?!0===M.success&&(alert("Please login again"),window.location.replace("/"),A(!1)):!1===M.status&&x.Am.error("Enter new password and confirm password properly"))}),[M]);var q=[{value:"en",text:"English (United States)",icon:(0,w.jsx)("img",{src:"images/Usflag.svg"})},{value:"fr",text:"French",icon:(0,w.jsx)("img",{src:"images/Usflag.svg"})}];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"container-fluid",children:(0,w.jsxs)("div",{className:"row",children:[(0,w.jsx)("div",{className:"col-md-8 col-sm-12 p-0",children:(0,w.jsx)("img",{src:"images/loginPageimg.png",className:"addImageresize",alt:"loginLogo"})}),(0,w.jsxs)("div",{className:"col-md-4 col-sm-12 ",children:[(0,w.jsx)("div",{className:"row addloginpaddleft justify-content-end",children:(0,w.jsx)("div",{className:"col-sm-8 mt-2 p-0",children:(0,w.jsx)("div",{style:{width:"100%"},children:(0,w.jsx)(t.ZP,{placeholder:"Select the Language",options:q,classNamePrefix:"loginDrop",getOptionLabel:function(s){return(0,w.jsxs)("div",{className:"w-100",children:[(0,w.jsx)("span",{className:"me-2",children:s.icon}),(0,w.jsx)("span",{children:s.text})]})},defaultValue:q[0],onChange:function(s){!function(s){var e=s.value;B(e),U.changeLanguage(e)}(s)}})})})}),(0,w.jsxs)("div",{className:"row login-form addMargintopforLoginpage addloginpaddleft",children:[(0,w.jsx)("div",{className:"col-sm-12 addSignincss fontColorchange",children:T("Sign in to your account")}),(0,w.jsxs)("div",{className:"mt-5",children:[(0,w.jsxs)("div",{className:"col-sm-12",children:[(0,w.jsx)(h.G,{icon:f.FU$,color:"#484036",style:{marginRight:"0.5em"}}),T("Username")]}),(0,w.jsx)("div",{className:"col-sm-12 mt-1",children:(0,w.jsx)("input",{type:"text",placeholder:T("Username"),className:"w-100 pt-2 pb-2 ps-2 addBorderradiusforinputs",onChange:function(s){d(s.target.value)}})})]}),(0,w.jsxs)("div",{className:"mt-5",children:[(0,w.jsxs)("div",{className:"col-sm-12",children:[(0,w.jsx)(h.G,{icon:f.byT,color:"#484036",style:{marginRight:"0.5em"}}),T("Password")]}),(0,w.jsx)("div",{className:"col-sm-12 mt-1",children:(0,w.jsx)("input",{type:"Password",placeholder:T("Password"),className:"w-100 pt-2 pb-2 ps-2 addBorderradiusforinputs",onChange:function(s){Z(s.target.value)}})})]})]}),(0,w.jsx)("div",{className:"row btn-row",children:(0,w.jsx)("div",{className:"col-sm-12 p-0",children:(0,w.jsxs)("button",{className:"btn w-100 loginButtoncss",onClick:function(){H((0,c.B)({password:N,email:n}))},children:[(0,w.jsx)(h.G,{icon:f.ZhI,color:"#fff",style:{marginRight:"0.5em"}}),T("Login")]})})})]})]})}),(0,w.jsx)(m(),{isOpen:b,id:"modalvalue",children:(0,w.jsxs)(u.Z,{className:"m-0",children:[(0,w.jsx)(p.Z,{sm:8,md:8,className:"p-0",children:(0,w.jsx)("img",{src:"images/loginPageimg.png",className:"changepass-img",alt:"loginLogo"})}),(0,w.jsxs)(p.Z,{sm:4,md:4,style:{position:"relative"},children:[(0,w.jsx)(u.Z,{children:(0,w.jsx)(p.Z,{sm:12,md:12,children:(0,w.jsx)("span",{className:"close-pass-btn",onClick:function(){return A(!1)},children:(0,w.jsx)(h.G,{icon:f.g82,color:"#484036",style:{fontSize:"22px"}})})})}),(0,w.jsxs)(u.Z,{className:"p-4 mt-4",children:[(0,w.jsx)(p.Z,{sm:12,md:12,className:"mt-5",children:(0,w.jsx)("p",{className:"change-password-heading text-center",children:T("Change Password")})}),(0,w.jsxs)(p.Z,{sm:12,md:12,className:"mt-5",children:[(0,w.jsx)("label",{children:T("New Password")}),(0,w.jsx)("input",{type:"password",placeholder:T("Enter your new password"),className:"w-100 pt-2 pb-2 ps-2 addBorderradiusforinputs",onChange:function(s){D(s.target.value)}})]}),(0,w.jsxs)(p.Z,{sm:12,md:12,className:"mt-5",children:[(0,w.jsx)("label",{children:T("Confirm Password")}),(0,w.jsx)("input",{type:"password",placeholder:T("Enter confirm password"),className:"w-100 pt-2 pb-2 ps-2 addBorderradiusforinputs",onChange:function(s){I(s.target.value)}})]})]}),(0,w.jsx)(u.Z,{children:(0,w.jsx)(p.Z,{sm:12,md:12,className:"change-pass-row",children:(0,w.jsx)(g.Z,{variant:"info",className:"change-pass-btn",onClick:function(){_===k?H((0,c.j)({password:_,email:n,token:$.token})):alert("Confirm password and new password are not same")},children:T("Submit")})})})]})]})})]})};e.default=j},60389:function(s,e,n){n.d(e,{B:function(){return d},j:function(){return m}});var a=n(74165),t=n(15861),o=n(74569),r=n.n(o),i=n(66913),c=n(27700),l=window.sessionStorage.getItem("accesstoken"),d=function(s){return function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n){var t,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:c.a.LOGIN_DATA_FETCHING}),t=i.Z.loginUser(),console.log("--------\x3eurl",t),e.next=6,r().post(t,s,{});case 6:o=e.sent,console.log("------\x3eresponse",o),n({type:c.a.LOGIN_DATA_FETCHED,payload:o}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("err",e.t0),n({type:c.a.LOGIN_DATA_FAILED});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(s){return e.apply(this,arguments)}}()},m=function(s){return function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n){var t,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:c.a.LOGIN_CHANGE_DATA_FETCHING}),t=i.Z.changeLoginuser(),e.next=5,r().post(t,s,{headers:{Token:l}});case 5:o=e.sent,n({type:c.a.LOGIN_CHANGE_DATA_FETCHED,payload:o}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:c.a.LOGIN_CHANGE_DATA_FAILED});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(s){return e.apply(this,arguments)}}()}},53297:function(){}}]);
//# sourceMappingURL=536.cff7a901.chunk.js.map