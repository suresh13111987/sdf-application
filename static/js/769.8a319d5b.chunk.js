"use strict";(self.webpackChunkholcimui=self.webpackChunkholcimui||[]).push([[769],{769:function(e,a,t){t.r(a),t.d(a,{Holcimuimaincomponent:function(){return le},default:function(){return se}});var n=t(1413),l=t(93433),s=t(29439),i=t(72791),r=t(9085),d=t(95048),o=t(33168),c=t(89743),u=t(2677),m=t(53537),h=t(80184),f=function(e){var a=e.volumes,t=(0,o.$)(),n=t.t,l=t.i18n;return(0,i.useEffect)((function(){l.changeLanguage(window.sessionStorage.getItem("language"))}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(c.Z,{children:(0,h.jsxs)(u.Z,{sm:12,md:12,className:"border shadow",children:[(0,h.jsx)("div",{className:"p-1 addMarginDatacolor",children:n("YEARLY TOTAL VOLUMES")}),(0,h.jsxs)(c.Z,{className:"addMarginImportanttop",children:[(0,h.jsxs)(u.Z,{sm:4,md:4,className:"mb-3",children:[(0,h.jsx)(c.Z,{className:"text-center",children:(0,h.jsx)(u.Z,{sm:12,md:12,className:"addMargintopColordata text-center",children:null!==a&&void 0!==a&&a.previousYear?(0,m.R2)(null===a||void 0===a?void 0:a.previousYear):0})}),(0,h.jsx)(c.Z,{className:"row text-center",children:(0,h.jsxs)(u.Z,{className:"text-center Volumedata",children:["".concat((new Date).getFullYear()-1)," VOLUME"]})})]}),(0,h.jsxs)(u.Z,{sm:4,md:4,className:"mb-3",children:[(0,h.jsx)(c.Z,{className:"text-center",children:(0,h.jsx)(u.Z,{sm:12,md:12,className:"addMargintopColordata text-center",children:null!==a&&void 0!==a&&a.currntYear?(0,m.R2)(null===a||void 0===a?void 0:a.currntYear):0})}),(0,h.jsx)(c.Z,{className:"row text-center",children:(0,h.jsxs)(u.Z,{className:"text-center Volumedata",children:["".concat((new Date).getFullYear())," VOLUME"]})})]}),(0,h.jsxs)(u.Z,{sm:4,md:4,className:"mb-3",children:[(0,h.jsx)(c.Z,{className:"text-center",children:(0,h.jsx)(u.Z,{sm:12,md:12,className:"addMargintopColordata text-center",children:null!==a&&void 0!==a&&a.nextYear?(0,m.R2)(null===a||void 0===a?void 0:a.nextYear):0})}),(0,h.jsx)(c.Z,{className:"row text-center",children:(0,h.jsxs)(u.Z,{className:"text-center Volumedata",children:["".concat((new Date).getFullYear()+1)," VOLUME"]})})]})]})]})})})},D=t(72426),x=t.n(D),v=t(59513),j=t.n(v),g=t(44266),p=t(33674),b=t(50909),Z=function(e){var a=(0,o.$)(),t=a.t,n=a.i18n,l=e.totalSum,r=e.quickFilterData,m=(0,d.I0)();(0,i.useEffect)((function(){n.changeLanguage(window.sessionStorage.getItem("language"))}),[]);var f=r.timeFilterDates;r.quickFilterDefaultData,r.tableDropDownFilters;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsx)(c.Z,{className:"border shadow quickFilter",children:(0,h.jsx)(u.Z,{sm:12,md:12,children:(0,h.jsxs)(c.Z,{className:"align-items-center",children:[(0,h.jsx)(u.Z,{sm:2,md:2,className:"quickFilterfontcolor addquickFilterFontsize",children:t("TIME FILTERS")}),(0,h.jsx)(u.Z,{sm:4,md:4,children:(0,h.jsxs)(g.Z,{direction:"horizontal",className:"align-items-center justify-content-center",gap:2,children:[(0,h.jsx)("div",{className:"daterange-label",children:t("Filter By Demand Period")}),(0,h.jsx)("div",{children:(0,h.jsx)(j(),{maxDate:new Date(f.demandFilterEndDate),selected:f.demandStartDate,onChange:function(e){var a=(0,s.Z)(e,2),t=a[0],n=a[1];m((0,b.Wf)("demandStartDate",t)),m((0,b.Wf)("demandEndDate",n)),n&&m((0,p.j9)("demand_period"))},startDate:f.demandStartDate,endDate:f.demandEndDate,selectsRange:!0,inline:!1,dateFormat:"MMM yyyy",showMonthYearPicker:!0,shouldCloseOnSelect:!0})})]})}),(0,h.jsx)(u.Z,{sm:4,md:4,children:(0,h.jsxs)(g.Z,{direction:"horizontal",className:"align-items-center justify-content-center",gap:2,children:[(0,h.jsx)("div",{className:"daterange-label",children:t("Filter By Forecast Period")}),(0,h.jsx)("div",{children:(0,h.jsx)(j(),{minDate:new Date(f.forecastFilterStartDate),selected:f.forecastStartDate,onChange:function(e){var a=(0,s.Z)(e,2),t=a[0],n=a[1];m((0,b.Wf)("forecastStartDate",t)),m((0,b.Wf)("forecastEndDate",n)),n&&m((0,p.j9)("forecast_period"))},startDate:f.forecastStartDate,endDate:f.forecastEndDate,selectsRange:!0,inline:!1,dateFormat:"MMM yyyy",showMonthYearPicker:!0})})]})}),(0,h.jsx)(u.Z,{sm:2,md:2,children:(0,h.jsxs)(g.Z,{direction:"horizontal",className:"align-items-center justify-content-center",gap:2,children:[(0,h.jsx)("div",{className:"daterange-label",children:t("Total Sum")}),(0,h.jsx)("div",{style:{fontWeight:600},children:l})]})})]})})})})})},C=t(39600),F=(t(85262),(0,C.ZP.createSliderWithTooltip)(C.ZP.Range),t(20601)),N=t(82165),w=t(35667),k=t(94666),T=t(90466),S=t(12891),y=t(82839),E=t(62066),M=t(763),A=function(e){var a=e.timeFilterData,t=(e.sdfTableKys,(0,o.$)()),n=t.t,r=t.i18n;(0,i.useEffect)((function(){r.changeLanguage(window.sessionStorage.getItem("language"))}),[]);var d=(0,i.useState)(a),m=(0,s.Z)(d,2),f=m[0],D=m[1];(0,i.useEffect)((function(){if(a.length){var e=(0,M.cloneDeep)(a),t=(0,l.Z)(e).map((function(e){return Object.keys(e).filter((function(e){return"name"!==e&&"total"!==e})).reduce((function(a,t){return[].concat((0,l.Z)(a),[{date:t,value:0===parseFloat(e[t])?null:e[t],name:null===e||void 0===e?void 0:e.name}])}),[])})).flat(),n=Object.keys(a[0]).filter((function(e){return"name"!==e&&"total"!==e})).map((function(e){var a=t.find((function(a){return a.date===e&&"sdf forecast"===a.name.toLowerCase()})),n=t.find((function(a){return a.date===e&&"demand volume"===a.name.toLowerCase()})),l=t.find((function(a){return a.date===e&&"sdf modified forecast"===a.name.toLowerCase()}));return{date:e,"Demand volume":null===n||void 0===n?void 0:n.value,"SDF forecast":null===a||void 0===a?void 0:a.value,"SDF Modified forecast":null===l||void 0===l?void 0:l.value}}));D(n.sort((function(e,a){return new Date(e.date)-new Date(a.date)})))}}),[a]);var x=["#256D85","#F96666","#182747","#FFDE00","#E80F88","#1CD6CE","#FF884B"];return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(c.Z,{style:{marginTop:"3em"},children:[(0,h.jsx)(u.Z,{sm:12,md:12,children:(0,h.jsx)(g.Z,{direction:"horizontal",gap:2,children:(0,h.jsx)("div",{className:"addtopforDemandvolumeforecast addpaddingforDemandcolumeforecast",children:n("DEMAND VOLUME AND FORECAST CHART")})})}),(0,h.jsx)(u.Z,{sm:12,md:12,className:"p-2 line-chart",children:(0,h.jsx)(F.h,{width:"100%",height:230,children:(0,h.jsxs)(N.w,{width:1130,id:"demandVolumelinechart",height:350,data:f,margin:{top:10,right:20,left:20,bottom:10},style:{fontSize:"14px"},children:[(0,h.jsx)(w.u,{}),(0,h.jsx)(k.D,{}),(0,h.jsx)(T.K,{dataKey:"date",className:"line-x-axis"}),(0,h.jsx)(S.B,{tickFormatter:function(e){return e+"K"}}),(0,h.jsx)(y.q,{stroke:"#eee",strokeDasharray:"5 5"}),(0,h.jsx)(E.x,{type:"monotone",dataKey:"Demand volume",stroke:x[1]}),(0,h.jsx)(E.x,{type:"monotone",dataKey:"SDF forecast",stroke:x[0]}),(0,h.jsx)(E.x,{type:"monotone",dataKey:"SDF Modified forecast",stroke:x[5]})]})})})]})})},L=t(62953),R=(t(5491),t(45003),t(11167),function(e){var a=e.rowData,t=e.defaultColDef,l=e.defaultActions,s=e.tableCols,i=e.gridReady,r=e.handleCellChange,d=e.cellClicked,o=e.clickedCell;return(0,h.jsx)("div",{className:"ag-theme-alpine w-100 mt-4",style:l.style,children:(0,h.jsx)(L.AgGridReact,(0,n.Z)((0,n.Z)({rowData:a,defaultColDef:t},l),{},{enableRangeSelection:!0,enableFillHandle:!0,undoRedoCellEditing:!0,enableCellChangeFlash:!0,undoRedoCellEditingLimit:20,onGridReady:i,minHight:300,onCellValueChanged:r,children:s.map((function(e,a){return(0,h.jsx)(L.AgGridColumn,{onCellClicked:d,suppressSizeToFit:!0,minWidth:150,headerName:null===e||void 0===e?void 0:e.label,editable:function(a){var t,n;return!(null!==e&&void 0!==e&&e.text)&&e.value===o&&"sdf modified forecast"===(null===a||void 0===a||null===(t=a.data)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase())},field:null===e||void 0===e?void 0:e.value},a)}))}))})}),q=function(e){var a=Object.assign({},e),t=(0,o.$)(),l=(t.t,t.i18n);return(0,i.useEffect)((function(){l.changeLanguage(window.sessionStorage.getItem("language"))}),[]),(0,h.jsx)(c.Z,{className:"mt-4 d-flex",children:(0,h.jsx)(u.Z,{sm:12,md:12,children:(0,h.jsx)(R,(0,n.Z)({},a))})})},O=t(45987),_=t(43360),Y=t(19763),I=t(67283),U=function(e){return e.allowSelectAll?(0,h.jsx)(I.ZP,(0,n.Z)((0,n.Z)({},e),{},{options:[e.allOption].concat((0,l.Z)(e.options)),onChange:function(a){var t=a.find((function(e){return"*"===e.value}));return(0,M.isEmpty)(t)?e.onChange(a):e.onChange(e.options)}})):(0,h.jsx)(I.ZP,(0,n.Z)({},e))};U.defaultProps={allOption:{label:"Select all...",value:"*"}};var z=U,B=["options","onChange","value"],P=function(e){var a=e.options,t=e.onChange,l=e.value,s=(0,O.Z)(e,B);return(0,h.jsx)(z,(0,n.Z)({options:a,closeMenuOnSelect:!1,hideSelectedOptions:!1,onChange:t,value:l},s))},V=t(16871),K=["handleSelectChange","downloadTableData","submitSelection","tempSave","saveDfuTable","tableRef","submitBtnDisabled"],H=function(e){var a=e.handleSelectChange,t=e.downloadTableData,l=e.submitSelection,s=e.tempSave,r=e.saveDfuTable,d=(e.tableRef,e.submitBtnDisabled),m=(0,O.Z)(e,K),f=(0,o.$)(),D=f.t,v=f.i18n;(0,V.s0)();return(0,i.useEffect)((function(){v.changeLanguage(window.sessionStorage.getItem("language"))}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(c.Z,{className:"mb-5",children:[(0,h.jsx)(u.Z,{sm:12,md:12,className:"mt-4",children:(0,h.jsx)("span",{className:"table-grouping-heading",children:D("TABLE GROUPING")})}),(0,h.jsx)(u.Z,{sm:12,md:12,className:"px-4",children:(0,h.jsxs)(c.Z,{className:"border shadow p-4",children:[(0,h.jsx)(u.Z,{sm:12,md:12,className:"addcolumnDatainsideborder",children:D("COLUMNS TO INCLUDE / EXCLUDE")}),(0,h.jsxs)(g.Z,{direction:"horizontal",gap:2,children:[(0,h.jsx)("div",{style:{width:"100%"},children:(0,h.jsx)(P,(0,n.Z)({options:Y.T8.filter((function(e){return e.text})),onChange:a,isMulti:!0,allowSelectAll:!0},m))}),(0,h.jsx)("div",{className:"ms-auto",children:(0,h.jsx)(_.Z,{disabled:d,onClick:l,variant:"info",className:"table-btns",children:D("Submit")})})]}),(0,h.jsx)(u.Z,{sm:12,md:12,style:{marginTop:"4em"},children:(0,h.jsxs)(g.Z,{direction:"horizontal",gap:2,children:[(0,h.jsx)("div",{className:"table-grouping-heading",children:D("DFUS TABLE")}),(0,h.jsx)("div",{className:"ms-auto",children:(0,h.jsx)(_.Z,{variant:"info",className:"table-btns",size:"sm",disabled:!m.rowData.length,onClick:function(){return m.exportDfu()},children:D("Export")})}),(0,h.jsx)("div",{children:(0,h.jsxs)(_.Z,{variant:"info",className:"table-btns",size:"sm",disabled:!m.rowData.length,onClick:null===m||void 0===m?void 0:m.undo,children:[" ",D("Undo Changes")]})}),(0,h.jsx)("div",{children:(0,h.jsxs)(_.Z,{variant:"info",className:"table-btns",size:"sm",disabled:!m.rowData.length,onClick:null===m||void 0===m?void 0:m.redo,children:[" ",D("Redo Changes")]})}),(0,h.jsx)("div",{children:(0,h.jsx)(_.Z,{variant:"info",className:"table-btns",size:"sm",disabled:!m.rowData.length||m.dfuTableTotalCount===m.rowData.length,onClick:function(){return m.handleNextPagination()},children:D("Load More")})})]})}),(0,h.jsxs)(u.Z,{sm:12,md:12,style:{minHeight:"50em"},children:[(0,h.jsx)(R,(0,n.Z)({},m)),(0,h.jsxs)(c.Z,{children:[(0,h.jsx)(u.Z,{sm:12,md:12,className:"mt-2",children:(0,h.jsxs)(g.Z,{direction:"horizontal",gap:2,children:[(0,h.jsx)("div",{children:(0,h.jsx)(_.Z,{variant:"info",className:"table-btns",size:"sm",onClick:s,children:D("Save Changes")})}),(0,h.jsx)("div",{children:(0,h.jsx)(_.Z,{variant:"info",className:"table-btns",size:"sm",onClick:r,children:D("Publish Changes")})}),(0,h.jsx)("div",{children:(0,h.jsx)(_.Z,{variant:"info",className:"table-btns",size:"sm",onClick:t,children:D("Download Client Format Table")})}),(0,h.jsx)("div",{children:(0,h.jsx)(_.Z,{disabled:!m.rowData.length,variant:"info",className:"table-btns",size:"sm",onClick:function(){return m.setShowAddModal(!0)},children:D("Add DFU")})})]})}),(0,h.jsx)(u.Z,{sm:12,md:12,children:(0,h.jsxs)(c.Z,{className:"mt-4",children:[(0,h.jsx)(u.Z,{sm:12,md:12,className:"tableGroupingfontcolor",children:D("Last save was made")+" "+x()(window.sessionStorage.getItem("updated date")||new Date).fromNow()}),(0,h.jsxs)(u.Z,{sm:12,md:12,className:"mt-2",children:[(0,h.jsx)("span",{className:"addDFUfontstyle",children:"*DFU"}),(0,h.jsx)("span",{children:D("=Demand Forecasting Unit - the unique identifier to forecast.It is composed by a unique combination of the following fields:material_codeshipto_code.")})]})]})})]})]})]})})]})})},W=t(13855),G=function(e){var a=e.filterData,t=e.volumes,n=e.obsolete,l=e.name,s=e.timeFilterDates,r=(0,d.I0)(),D=((0,V.TH)(),(0,o.$)()),v=D.t,j=D.i18n,g=String(l);return(0,i.useEffect)((function(){j.changeLanguage(window.sessionStorage.getItem("language"))}),[]),(0,h.jsxs)("div",{className:"container-fluid",children:[(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-sm-12 p-0",children:(0,h.jsx)("span",{className:"addKPISproperty",children:v("KPIS")})})}),(0,h.jsx)("div",{className:"row border shadow quickFilter",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-sm-2  quickFilterfontcolor addquickFilterFontsize",children:v("QUICK FILTERS")}),(0,h.jsx)("div",{className:"col-md-2 allquickattribute",children:(0,h.jsx)("button",{className:"YTD"===g?"btn btn-default  ChangequickColorbutton":"btn btn-default quickDropdown",onClick:function(e){e.preventDefault(),r((0,b.hj)({rangeSelection:!1,rangeName:null})),r((0,b.sd)({filterBody:m.LU,name:"YTD"}))},children:"YTD"})}),(0,h.jsx)("div",{className:"col-md-2 allquickattribute",children:(0,h.jsx)("button",{className:"forecastNext6M"===g?"btn btn-default ChangequickColorbutton":"btn btn-default quickDropdown",onClick:function(e){e.preventDefault(),r((0,b.hj)({rangeSelection:!1,rangeName:null})),r((0,b.sd)({filterBody:m.Go,name:"forecastNext6M"}))},children:"FC NEXT 6M"})}),(0,h.jsx)("div",{className:"col-md-3 allquickattribute",children:(0,h.jsx)("button",{className:"demandLast12M"===g?"btn btn-default ChangequickColorbutton":"btn btn-default quickDropdown",onClick:function(e){e.preventDefault(),r((0,b.hj)({rangeSelection:!1,rangeName:null})),r((0,b.sd)({filterBody:(0,m._7)(s.demandFilterEndDate),name:"demandLast12M"}))},children:"DEMAND LAST 12M"})}),(0,h.jsx)("div",{className:"col-md-3 allquickattribute",children:(0,h.jsxs)(W.Z.Control,{as:"select",className:"IncludeobsoluteDFU","aria-label":"Select OBSOLETE DFU",onChange:function(e){return function(e){e.preventDefault();var a=e.target.value;r((0,b.hj)({rangeSelection:!1,rangeName:null})),r((0,b.sd)({obsolete:a}))}(e)},value:n,children:[(0,h.jsx)("option",{value:"Yes",children:"Obsolete Yes"}),(0,h.jsx)("option",{value:"No",children:"Obsolete No"})]})})]})}),(0,h.jsxs)(c.Z,{className:"mt-4",children:[(0,h.jsx)(u.Z,{sm:2,md:2,className:"p-0 align-items-stretch mb-4",children:(0,h.jsxs)("div",{className:"border shadow",style:{height:"11.4em"},children:[(0,h.jsxs)(c.Z,{className:"p-1 align-items-center",children:[(0,h.jsx)(u.Z,{xs:3,sm:3,md:3,className:"DemandandFcfonts allFontcolor",children:"DEMAND"}),(0,h.jsx)(u.Z,{xs:9,sm:9,md:9,className:"text-end DemandandFcfontsRight allFontcolor",children:"".concat(x()(null===s||void 0===s?void 0:s.demandStartDate).format("YYYY-MM")," To ").concat(x()(null===s||void 0===s?void 0:s.demandEndDate).format("YYYY-MM"))})]}),(0,h.jsx)(c.Z,{className:"margintop2",children:(0,h.jsxs)(u.Z,{sm:12,md:12,className:"col-sm-12 text-center",children:[(0,h.jsx)("div",{className:"addFontforcenterData",children:null!==a&&void 0!==a&&a.demandPeriodTotal?(0,m.R2)(null===a||void 0===a?void 0:a.demandPeriodTotal):0}),(0,h.jsx)("div",{className:"addDemandvolumestyle",children:v("DEMAND VOLUME")})]})})]})}),(0,h.jsx)(u.Z,{sm:4,md:4,className:"align-items-stretch mb-4",children:(0,h.jsxs)("div",{className:"border shadow",style:{height:"11.4em"},children:[(0,h.jsxs)(c.Z,{className:"p-1 align-items-center",children:[(0,h.jsx)(u.Z,{xs:5,sm:5,md:5,className:"DemandandFcfonts allFontcolor",children:v("FC DEMAND")}),(0,h.jsx)(u.Z,{xs:7,sm:7,md:7,className:"text-end DemandandFcfontsRight allFontcolor",children:"".concat(x()(null===s||void 0===s?void 0:s.forecastStartDate).format("YYYY-MM")," To ").concat(x()(null===s||void 0===s?void 0:s.forecastEndDate).format("YYYY-MM"))})]}),(0,h.jsxs)(c.Z,{className:"margintop2",children:[(0,h.jsxs)(u.Z,{sm:"6",xs:6,className:"text-center",children:[(0,h.jsx)("div",{className:"addFontforcenterData",children:"".concat(null!==a&&void 0!==a&&a.forecastEnriched?(0,m.R2)(null===a||void 0===a?void 0:a.forecastEnriched):0)}),(0,h.jsx)("div",{className:"addDemandvolumestyle",children:v("SDF FORECAST VOLUME")})]}),(0,h.jsxs)(u.Z,{sm:"6",xs:6,className:"text-center",children:[(0,h.jsx)("div",{className:"addFontforcenterData",children:"".concat(null!==a&&void 0!==a&&a.forecastQty?(0,m.R2)(null===a||void 0===a?void 0:a.forecastQty):0)}),(0,h.jsx)("div",{className:"addDemandvolumestyle",children:v("SDF MODIFIED FORECAST VOLUME")})]})]})]})}),(0,h.jsx)(u.Z,{sm:6,md:6,className:"align-items-stretch",children:(0,h.jsx)(f,{volumes:t})})]})]})},$=t(74165),Q=t(15861),X=t(74569),J=t.n(X),ee=t(66913),ae=t(77029),te=t(26134),ne=function(e){var a,t,n=e.show,l=e.handleClose,s=e.heading,i=e.handleSubmit,r=e.dfuAddRowData,d=e.handleChange,o=e.addDfuDropDownOption;return(0,h.jsxs)(te.Z,{show:n,onHide:l,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,h.jsx)(te.Z.Header,{closeButton:!0,children:(0,h.jsx)(te.Z.Title,{children:s})}),(0,h.jsx)(te.Z.Body,{children:(0,h.jsx)("form",{id:"addDfuForm",onSubmit:i,children:(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(c.Z,{children:[(0,h.jsx)(u.Z,{sm:1}),(0,h.jsx)(u.Z,{sm:4,style:{padding:"5px"},children:(0,h.jsx)(W.Z.Control,{onChange:function(e){return d(e)},size:"sm",type:"date",name:"startDate",value:null!==(a=r.startDate)&&void 0!==a?a:"",required:!0})}),(0,h.jsx)(u.Z,{sm:4,style:{margin:"5px"},children:(0,h.jsx)(W.Z.Control,{onChange:function(e){return d(e)},size:"sm",type:"date",name:"endDate",value:null!==(t=r.endDate)&&void 0!==t?t:"",required:!0})}),Y.T8.map((function(e,a){var t,n;return(0,h.jsxs)(W.Z.Group,{style:{margin:"5px"},as:c.Z,controlId:"".concat(a,"_").concat(e.value),children:[(0,h.jsx)(u.Z,{sm:4,children:(0,h.jsx)(W.Z.Label,{children:(0,h.jsx)("b",{children:e.label})})}),(0,h.jsx)(u.Z,{sm:3,children:e.select&&(0,h.jsxs)(W.Z.Select,{onChange:function(a){a.preventDefault(),d({target:{name:e.value,value:a.target.value}})},size:"sm","aria-label":"select options",children:[(0,h.jsxs)("option",{value:"",children:["Select ",e.label]}),o[null!==(t=e.option)&&void 0!==t?t:e.value].map((function(a,t){return(0,h.jsx)("option",{value:a,children:a},"".concat(e.value,"_").concat(t,"_"))}))]})}),(0,h.jsx)(u.Z,{sm:4,children:(0,h.jsx)(W.Z.Control,{onChange:function(e){return d(e)},size:"sm",type:"text",name:e.value,value:null!==(n=r[e.value])&&void 0!==n?n:"",required:!0})})]},a)}))]})})})}),(0,h.jsxs)(te.Z.Footer,{children:[(0,h.jsx)(_.Z,{variant:"secondary",onClick:l,children:"Close"}),(0,h.jsx)(_.Z,{form:"addDfuForm",type:"submit",variant:"info",children:"ADD DFU"})]})]})},le=function(){var e,a=(0,d.I0)(),t=(0,d.v9)((function(e){var a;return{demandFilterData:e.quickFilterData.demandFilterData,foreCastFilterData:e.quickFilterData.foreCastFilterData,tableData:e.quickFilterData.tableData,getDataplot:null!==(a=e.plotDataReducer)&&void 0!==a?a:[],filterData:e.quickFilterData.quickFilterData,plotData:e.plotData.plotData,defaultData:e.quickFilterData.quickFilterDefaultData,dates:e.quickFilterData.quickFilterDates,dfuTableCols:e.quickFilterData.dfuTableCols,dfuTableTotalCount:e.quickFilterData.dfuTableTotalCount,dfuAddRowData:e.quickFilterData.dfuAddRowData,sdfTableKys:e.plotData.sdfTableKys,savePlotDataTableRows:e.plotData.savePlotDataTableRows,sdfTableTotalSum:e.plotData.sdfTableTotalSum,addDfuDropDownOption:e.quickFilterData.addDfuDropDownOption,tableDataCopy:e.quickFilterData.tableDataCopy,clickedCell:e.quickFilterData.clickedCell,tableDropDownFilters:e.quickFilterData.tableDropDownFilters,selectedTableColumns:e.quickFilterData.selectedTableColumns,state:e}}),d.wU),o=t.demandFilterData,m=t.foreCastFilterData,f=t.tableData,D=t.filterData,x=t.plotData,v=t.defaultData,j=t.dates,g=t.dfuTableCols,C=t.dfuTableTotalCount,F=t.dfuAddRowData,N=t.sdfTableKys,w=(t.savePlotDataTableRows,t.sdfTableTotalSum),k=t.addDfuDropDownOption,T=t.tableDataCopy,S=t.clickedCell,y=t.tableDropDownFilters,E=t.selectedTableColumns,M=t.state,L=(0,i.useRef)(),R=(0,i.useState)(),O=(0,s.Z)(R,2),_=O[0],I=O[1],U=(0,i.useState)(!1),z=(0,s.Z)(U,2),B=z[0],P=z[1],V=(0,i.useState)([]),K=(0,s.Z)(V,2),W=(K[0],K[1],(0,i.useRef)([])),X=(0,i.useRef)([]);console.log({state:M});var te=(0,i.useCallback)((function(e){a((0,b.hj)({selectedTableColumns:e}))}),[]),le=(0,i.useCallback)((function(e){I(e.api)}),[]),se=(0,i.useCallback)((function(){P((function(e){return!e}))}),[B]),ie=(0,i.useCallback)((function(e){var t=e.target,n=t.name,l=t.value;a((0,b.TF)(n,l))}),[]),re=function(e){var t=e.colDef.field;a((0,b.Fk)(t))};return(0,h.jsxs)("div",{className:"container-fluid",children:[(0,h.jsx)(G,(0,n.Z)({filterData:D.kpis,volumes:D.yearlyTotalVolume,timeFilterDates:null===M||void 0===M||null===(e=M.quickFilterData)||void 0===e?void 0:e.timeFilterDates},v)),(0,h.jsx)(Z,(0,n.Z)((0,n.Z)((0,n.Z)({},v),M),{},{dates:j,demandFilterData:o,foreCastFilterData:m,totalSum:w})),(0,h.jsxs)(c.Z,{children:[(0,h.jsx)(u.Z,{sm:6,md:6,children:(0,h.jsx)(A,{sdfTableKys:N,timeFilterData:x})}),(0,h.jsx)(u.Z,{sm:6,md:6,children:(0,h.jsx)(q,{rowData:x,defaultColDef:Y.wi,tableCols:N.sort((function(e,a){return new Date(e.value)-new Date(a.value)})),defaultActions:Y.Fb,total:w,handleCellChange:function(e){var t=X.current.findIndex((function(a){return a.colDef.field===e.colDef.field}));-1===t?X.current=[].concat((0,l.Z)(X.current),[e]):X.current[t]=e,a((0,b.WQ)(e))},cellClicked:re,clickedCell:S})})]}),(0,h.jsx)(ne,{addDfuDropDownOption:k,dfuAddRowData:F,show:B,heading:"Add New DFU",handleClose:se,handleSubmit:function(e){e.preventDefault();var t="Yes"===v.obsolete;a((0,b.RM)(F,j,y,t))},handleChange:ie}),(0,h.jsx)(H,{handleSelectChange:te,downloadTableData:function(){var e;a((e=r.Am,function(){var a=(0,Q.Z)((0,$.Z)().mark((function a(t){var n,l;return(0,$.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:ae.k.DOWNLOAD_TABLE_FETCHING}),n=ee.Z.downloadDFUTable(),a.next=5,J().get(n);case 5:l=a.sent,t({type:ae.k.DOWNLOAD_TABLE_FETCHED,payload:l.data.msg}),e(l.data.msg),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),t({type:ae.k.DOWNLOAD_TABLE_FAILED});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()))},submitSelection:function(e){e.preventDefault(),a((0,b.Ri)())},saveDfuTable:function(e){e.preventDefault(),a(function(e,a,t){return function(){var n=(0,Q.Z)((0,$.Z)().mark((function n(s){var i,r,d,o,c;return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s({type:ae.k.SAVE_DFU_TABLE_FETCHING}),i=[],r=[],e.length&&(i=e.reduce((function(e,a){return[].concat((0,l.Z)(e),[{demand_period:a.colDef.field,modifiedForecast:a.newValue,region:a.data.region,channel:a.data.channel,customer_name:a.data.customer_name,material_name:a.data.material_name,package:a.data.package,plant:a.data.plant,ship_to_name:a.data.ship_to_name,sales_rep_name:a.data.sales_rep_name,segment:a.data.segment,del_new:a.data.del_new}])}),[])),a.length&&(r=a.reduce((function(e,a){return[].concat((0,l.Z)(e),[{demand_period:a.colDef.field,modifiedForecast:a.newValue}])}),[])),d=ee.Z.saveDFUTable(),o={collbTotalData:i,dfuData:r},n.next=10,J().put(d,o);case 10:void 0!==(c=n.sent).data.sucess&&200===c.data.sucess&&window.sessionStorage.setItem("updated date",c.data.date),s({type:ae.k.SAVE_DFU_TABLE_FETCHED,payload:c.data}),t(c.data.message),s((0,b.sd)({saveTableData:!0})),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),s({type:ae.k.SAVE_DFU_TABLE_FAILED});case 20:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(e){return n.apply(this,arguments)}}()}(W.current,X.current,r.Am)),W.current=[],X.current=[]},rowData:f,defaultColDef:Y.KR,value:E,defaultActions:Y.Wx,tableRef:L,tableCols:g.sort((function(e,a){return new Date(e.value)-new Date(a.value)})),submitBtnDisabled:0===E.length,tempSave:function(){W.current.length&&W.current.forEach((function(e){a((0,p.C2)(e))}))},handleNextPagination:function(){var e={excludedColumns:E.map((function(e){return null===e||void 0===e?void 0:e.value})),Dates:j,filter:y,obsolete:"Yes"===v.obsolete};a((0,b.pf)(e))},gridReady:le,dfuTableTotalCount:C,setShowAddModal:P,exportDfu:function(){var e={excludedColumns:E.map((function(e){return null===e||void 0===e?void 0:e.value})),Dates:j};a((0,b.Uw)(e,r.Am))},handleCellChange:function(e){[e].forEach((function(a,t){T[a.rowIndex][a.colDef.field]===a.newValue&&W.current.length?W.current.splice(W.current.indexOf(e.colDef.field),1):W.current=[].concat((0,l.Z)(W.current),[e])}))},undo:function(e){e.preventDefault(),_.undoCellEditing()},redo:function(e){e.preventDefault(),_.redoCellEditing()},cellClicked:re,clickedCell:S,handleFilter:function(e){console.log(e)}})]})},se=le}}]);
//# sourceMappingURL=769.8a319d5b.chunk.js.map